:root{
  /* Woodsy / fantasy palette */
  --fg:#1a1a14;
  --muted:rgba(26,26,20,.72);
  --border:rgba(84,62,36,.22);

  --parchment:rgba(245,240,227,.92);
  --parchmentSolid:rgba(245,240,227,.97);

  --brass:#c7a256;
  --brassDark:#a67c2d;

  --shadow:0 20px 50px rgba(0,0,0,.28);

  /* Nav sizes */
  --navRadius:16px;
  --panelRadius:20px;
  --cardRadius:18px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }

body{
  margin:0;
  color:var(--fg);
  background:#0f1a14; /* deep forest behind panels */
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
}

/* Headlines: subtle fantasy without going full “RPG UI” */
h1,h2{
  font-family: Georgia,"Times New Roman",serif;
  letter-spacing:.3px;
  margin:0 0 10px 0;
  color:rgba(245,240,227,.95); /* on parallax panels */
  text-shadow:0 14px 28px rgba(0,0,0,.45);
}

p{ margin:0 0 12px 0; }

.meta{
  color:rgba(245,240,227,.82);
}

.lead{
  font-size:16px;
  line-height:1.4;
  color:rgba(245,240,227,.90);
}

.hidden{ display:none !important; }

/* Side nav: wood plaque + brass */
.side-nav{
  position:fixed;
  left:14px;
  top:50%;
  transform:translateY(-50%);
  z-index:50;

  display:flex;
  flex-direction:column;
  gap:8px;

  padding:12px;
  border-radius:var(--navRadius);

  background:
    radial-gradient(120% 140% at 20% 0%, rgba(255,255,255,.10), rgba(255,255,255,0)),
    linear-gradient(180deg, rgba(60,42,22,.86), rgba(30,20,12,.90));
  border:1px solid rgba(199,162,86,.40);
  box-shadow:0 18px 42px rgba(0,0,0,.38);
  backdrop-filter: blur(6px);
}

.side-nav a{
  text-decoration:none;
  color:rgba(245,240,227,.92);
  font-size:14px;
  padding:8px 10px;
  border-radius:12px;
  white-space:nowrap;
  border:1px solid transparent;
}

.side-nav a:hover{
  background:rgba(199,162,86,.12);
  border-color:rgba(199,162,86,.28);
}

.side-nav a.active{
  background:rgba(199,162,86,.18);
  border-color:rgba(199,162,86,.50);
  color:rgba(245,240,227,.98);
}

/* Panels */
.panel{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:68px 22px;
}

/* Keep your parallax behavior. Add a “mist + vignette” overlay for readability. */
.panel.parallax{
  background-image:
    radial-gradient(120% 120% at 50% 35%, rgba(15,26,20,.30), rgba(15,26,20,.86)),
    linear-gradient(rgba(0,0,0,.18), rgba(0,0,0,.50)),
    var(--bg);
  background-position:center;
  background-size:cover;
  background-attachment:fixed;
}

/* Inner panel becomes parchment */
.panel-inner{
  width:min(920px, 100%);
  border:1px solid rgba(199,162,86,.25);
  border-radius:var(--panelRadius);
  background:
    linear-gradient(180deg, rgba(245,240,227,.94), rgba(235,228,207,.94));
  box-shadow:var(--shadow);
  padding:28px;
  color:var(--fg);
}

/* Card: slightly more “pinned parchment” */
.card{
  margin-top:18px;
  padding:16px;
  border:1px solid rgba(84,62,36,.20);
  border-radius:var(--cardRadius);
  background:var(--parchmentSolid);
  box-shadow:0 12px 26px rgba(0,0,0,.12);
}

/* Form */
.form{ margin-top:12px; }

.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:14px;
}

label{
  display:flex;
  flex-direction:column;
  gap:6px;
  font-size:14px;
  color:rgba(26,26,20,.78);
}

input,select,textarea{
  border:1px solid rgba(84,62,36,.20);
  border-radius:14px;
  padding:10px 12px;
  font-size:14px;
  outline:none;
  background:rgba(255,255,255,.78);
  color:var(--fg);
}

input:focus,select:focus,textarea:focus{
  border-color:rgba(199,162,86,.60);
  box-shadow:0 0 0 4px rgba(199,162,86,.18);
}

.full{ grid-column:1 / -1; }

/* Buttons: brass */
button{
  margin-top:14px;
  border:0;
  border-radius:14px;
  padding:12px 14px;
  background:linear-gradient(180deg, var(--brass), var(--brassDark));
  color:#20170d;
  font-size:14px;
  font-weight:600;
  cursor:pointer;
  box-shadow:0 14px 28px rgba(0,0,0,.20);
}

button:hover{ filter:brightness(1.03); }
button:active{ transform:translateY(1px); }

.notice{
  margin-top:12px;
  padding:10px 12px;
  border:1px solid rgba(199,162,86,.26);
  border-radius:14px;
  background:rgba(199,162,86,.10);
  color:rgba(245,240,227,.95);
}

.hint{
  margin-top:18px;
  color:rgba(245,240,227,.78);
}

/* Mobile: keep your logic — fixed backgrounds are unreliable on iOS */
@media (max-width: 860px){
  .grid{ grid-template-columns:1fr; }
  .panel.parallax{ background-attachment:scroll; }

  .side-nav{
    left:10px;
    right:10px;
    top:auto;
    bottom:10px;
    transform:none;
    flex-direction:row;
    overflow:auto;
    max-width:calc(100vw - 20px);
    gap:6px;
    justify-content:flex-start;
  }

  .side-nav a{ padding:10px 12px; }
}
